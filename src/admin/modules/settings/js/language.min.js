function SettingsLanguage(){this.address="../../admin/modules/settings/languages/"}
SettingsLanguage.prototype.languagesInit=function(){$("#admin_settings_newlanguages").click(function(){admin.show(settings.address_language+"install_language",settings.addLanguages)});$("#admin_settings_editLanguages").click(function(){admin.show(settings.address_language+"edit_language",settings.editLanguages)});$("#settings_database_save").click(function(){settingsLanguage.languagesSave()});$("#install_new_languages").click(function(){admin.show(settingsLanguage.address+"install_language",settingsLanguage.addLanguages)});
$("#admin_settings_editLanguages").click(function(){admin.show(settingsLanguage.address+"edit_language",settingsLanguage.editLanguages)})};SettingsLanguage.prototype.languagesSave=function(){$("#notice").addClass("notice").html(languageAdmin.admin_settings_saved);$.post(settingsLanguage.address+"language",{default_language:$("#defaultLanguage").val()})};SettingsLanguage.prototype.addLanguages=function(){};
SettingsLanguage.prototype.editLanguages=function(){$("#language_tree li").each(function(){$(this).click(function(a){var b=$(this);settingsLanguage.treeClick(b);a.stopPropagation();return!1})});$("#current_languagefile").on("change",function(){var a=$(this).val();admin.show(settingsLanguage.address+"edit_language?file="+a,settingsLanguage.editLanguages)})};
SettingsLanguage.prototype.treeClick=function(a){if("tree"==a.data("type")){var b=a.children().filter("ul");b.hasClass("closed")?(a.children(":first").html("-"),b.removeClass("closed").addClass("open")):(a.children(":first").html("+"),b.removeClass("open").addClass("closed"))}else settingsLanguage.openLeaf(a)};SettingsLanguage.prototype.openLeaf=function(a){var b=$("#current_languagefile").val();a=a.data("path");admin.show(settingsLanguage.address+"edit_language_form?file="+b+"&path="+a,settingsLanguage.openLeafInit)};
SettingsLanguage.prototype.openLeafInit=function(){for(var a=1;0<$("#editor"+a).length;)CKEDITOR.replace("editor"+a,{width:"99%",enterMode:CKEDITOR.ENTER_BR}),a++;$("#languageEditor_back").click(function(){var a=$("#file").val();admin.show(settingsLanguage.address+"edit_language?file="+a,settingsLanguage.editLanguages)});$("#languageEditorSave").click(function(){settingsLanguage.languageEditorSave()})};
SettingsLanguage.prototype.languageEditorSave=function(){for(var a={},b=1,c,d;0!=$("#editor"+b).length;)c=$("#editor"+b).data("id"),d=CKEDITOR.instances["editor"+b].getData(),a[c]=d,b++;$.post(settingsLanguage.address+"edit_language_save",{data:a,path:$("#path").val(),file:$("#file").val()});$("#notice").html(languageAdmin.languageEditorSaved)};var settingsLanguage=new SettingsLanguage;