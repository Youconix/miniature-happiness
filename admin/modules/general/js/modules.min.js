function Modules(){this.url="../modules/general/modules.php";this.item=null}Modules.prototype.init=function(){$("#installed_modules tbody tr").each(function(){$(this).click(function(){modules.item=$(this);modules.deleteModule()})});$("#upgradable_modules tbody tr").each(function(){$(this).click(function(){modules.item=$(this);modules.upgrade()})});$("#new_modules tbody tr").each(function(){$(this).click(function(){modules.item=$(this);modules.install()})})};
Modules.prototype.deleteModule=function(){var a=modules.item.data("name");"general"!=a&&"settings"!=a&&"statistics"!=a&&(confirmBox.init(250,modules.deleteModuleCallback),confirmBox.show(languageAdmin.modules_delete_title,languageAdmin.modules_delete.replace("[name]",a)))};Modules.prototype.deleteModuleCallback=function(){var a=modules.item.data("id");$.post(this.address,{command:"delete",id:a},function(){general.showModules()})};
Modules.prototype.upgrade=function(){var a=modules.item.data("name");confirmBox.init(250,modules.upgradeCallback);confirmBox.show(languageAdmin.modules_upgrade_title,languageAdmin.modules_upgrade.replace("[name]",a))};Modules.prototype.upgradeCallback=function(){var a=modules.item.data("id");$.post(this.address,{command:"upgrade",id:a},function(){general.showModules()})};
Modules.prototype.install=function(){var a=modules.item.data("name");confirmBox.init(250,modules.installCallback);confirmBox.show(languageAdmin.modules_install_title,languageAdmin.modules_install.replace("[name]",a))};Modules.prototype.installCallback=function(){var a=modules.item.data("name");$.post(this.address,{command:"install",name:a},function(){general.showModules()})};var modules=new Modules;